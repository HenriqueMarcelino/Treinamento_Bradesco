package br.com.stefanini.projetobd.persistence;

import java.sql.PreparedStatement;
import java.util.UUID;

import br.com.stefanini.projetobd.model.Usuario;

public class UsuarioDao extends Dao {
	
	public void createUsuario(Usuario u) throws Exception{
		
		open();
		
		stmt = con.prepareStatement("insert into usuario values(null,?,?,?,?)",
				PreparedStatement.RETURN_GENERATED_KEYS);
		stmt.setString(1, u.getNome());
		stmt.setString(2, u.getEmail());
		stmt.setString(3, u.getSenha());
		stmt.setString(4, u.getUuid());
		stmt.execute();
		
		close();
	}
	
	public static void main(String[] args) {
		UsuarioDao dao = new UsuarioDao();
		Usuario usu = new Usuario(null,"Rick","Rick@gmail.com","123456",UUID.randomUUID().toString());
		
		try {
			usu.gerarCriptografia();
			
			dao.createUsuario(usu);
			System.out.println("Dados Gravados");
		}
		catch(Exception ex) {
			
		}
	}

}
